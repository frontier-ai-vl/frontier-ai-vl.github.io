<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frontier-A1-VL — MultiModal Diffusion</title>
  <script src="./echarts.min.js"></script>
        <!-- 引入Mermaid.js库 -->
        <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>

  <style>
    :root {
      --bg: #ffffff;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --border: #e5e7eb;
      --indigo: #6366f1;
      --indigo-700: #4f46e5;
      --slate: #94a3b8;
      --emerald: #059669;
      --shadow: 0 4px 20px rgba(0,0,0,0.1), 0 8px 32px rgba(0,0,0,0.15);
      --primary-red: #dc2626;
      --primary-red-dark: #b91c1c;
      --accent-blue: #3b82f6;
      --accent-purple: #8b5cf6;
      --accent-cyan: #06b6d4;
      --glow: 0 0 20px rgba(220, 38, 38, 0.3);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      padding-top: 64px; /* 为固定导航栏留出空间 */
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: var(--bg);
      position: relative;
      overflow-x: hidden;
    }
    
    /* Tech background effects */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(220, 38, 38, 0.15) 0%, transparent 50%);
      z-index: -1;
      animation: backgroundShift 20s ease-in-out infinite;
    }
    
    @keyframes backgroundShift {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.1) rotate(1deg); }
    }
    
    /* Simple wave line */
    .wave-line {
      position: relative;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--primary-red), transparent);
      margin: 40px 0;
      overflow: hidden;
    }
    
    .wave-line::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
      animation: waveMove 3s linear infinite;
    }
    
    @keyframes waveMove {
      0% { left: -100%; }
      100% { left: 100%; }
    }
    
    /* Simple card hover effect */
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 24px;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow), 0 0 20px rgba(220, 38, 38, 0.2);
      border-color: var(--primary-red);
    }
    
    /* Simple title effect */
    .glitch {
      position: relative;
    }
    
    .glitch::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, var(--primary-red), var(--accent-cyan));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }
    
    .glitch:hover::after {
      transform: scaleX(1);
    }
    a { color: inherit; text-decoration: none; }
    .container { max-width: 1120px; margin: 0 auto; padding: 0 16px; }
    .btn { 
      display: inline-flex; 
      align-items: center; 
      gap: 8px; 
      border-radius: 12px; 
      padding: 10px 14px; 
      border: 1px solid var(--border); 
      background: var(--card); 
      color: var(--text);
      cursor: pointer; 
      font-weight: 600; 
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(220, 38, 38, 0.1), transparent);
      transition: left 0.5s ease;
    }
    
    .btn:hover::before {
      left: 100%;
    }
    
    .btn:hover { 
      transform: translateY(-2px);
      box-shadow: var(--shadow), 0 0 20px rgba(220, 38, 38, 0.2);
      border-color: var(--primary-red);
    }
    
    .btn-primary { 
      border: none; 
      background: linear-gradient(135deg, var(--primary-red), var(--primary-red-dark)); 
      color: #fff; 
      box-shadow: var(--shadow), var(--glow);
      position: relative;
    }
    
    .btn-primary::after {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, var(--accent-cyan), var(--accent-purple), var(--accent-blue));
      border-radius: 14px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .btn-primary:hover::after {
      opacity: 1;
    }
    
    .btn-primary:hover { 
      background: linear-gradient(135deg, var(--primary-red-dark), var(--primary-red));
      transform: translateY(-2px);
      box-shadow: var(--shadow), var(--glow), 0 0 30px rgba(220, 38, 38, 0.5);
    }
    
    /* Mind Map Button Styles */
    .controls button {
      padding: 10px 20px;
      margin: 0 8px;
      border: none;
      border-radius: 6px;
      background-color: var(--primary-red);
      color: white;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(220, 38, 38, 0.2);
    }
    
    .controls button:hover {
      background-color: var(--primary-red-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(220, 38, 38, 0.4);
    }
    
    .controls button:active {
      transform: translateY(0);
    }
    
    /* MindElixir思维导图样式优化 */
    #mindmap-container {
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow: hidden;
      position: relative;
    }
    
    /* 思维导图容器样式 */
    #mindmap-container .map-container {
      background: var(--card) !important;
      border-radius: 12px !important;
    }
    
    /* 节点样式优化 */
    #mindmap-container .map-container .node {
      transition: all 0.3s ease;
    }
    
    #mindmap-container .map-container .node:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
    
    /* 连线样式优化 */
    #mindmap-container .map-container .link {
      transition: stroke 0.3s ease;
    }
    
    /* 确保思维导图响应式 */
    #mindmap-container .map-container {
      width: 100% !important;
      height: 100% !important;
    }
    
    .pill { display:inline-flex; align-items:center; gap:6px; border:1px solid var(--border); padding:4px 10px; border-radius:999px; font-size:12px; color:#374151; background:#ffffffb3; backdrop-filter: blur(6px); }

    header { position: fixed; top: 0; left: 0; right: 0; z-index: 40; background: rgba(255,255,255,.95); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); box-shadow: 0 2px 20px rgba(0,0,0,0.1); }
    .nav { height: 64px; display:flex; align-items:center; justify-content:space-between; }
    .brand { display:flex; align-items:center; gap:8px; }

    .tabs { display:none; gap: 18px; font-size: 14px; }
    .tabs button { background:none; border:none; cursor:pointer; color:#374151; font: inherit; padding: 6px 0; }
    .tabs button.active, .tabs button:hover { color: var(--primary-red); }
    @media (min-width: 768px) { .tabs { display:flex; } .hide-md { display: inline-flex; } }

    /* Mind Map Styles */
    .mindmap-container {
      background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
      border-radius: 20px;
      padding: 20px;
      border: 1px solid var(--border);
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    .mindmap-root {
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .mindmap-root:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 25px rgba(220, 38, 38, 0.4);
    }

    .branch-node {
      transition: all 0.3s ease;
      user-select: none;
    }

    .branch-node:hover {
      transform: scale(1.05);
    }

    .branch-content {
      transition: all 0.3s ease;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .sub-node {
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .sub-node:hover {
      background: #e5e7eb !important;
      transform: translateX(5px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .sub-branch-title {
      transition: all 0.3s ease;
    }

    .toggle-icon {
      margin-left: 8px;
      font-size: 12px;
      transition: all 0.3s ease;
    }

    .branch-line {
      transition: all 0.3s ease;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .mindmap-branches {
        flex-direction: column;
        gap: 20px;
      }
      
      .mindmap-container {
        overflow-x: auto;
        padding: 15px;
      }
    }

    section { scroll-margin-top: 80px; padding: 64px 0; }
    .section-title { display:flex; align-items:flex-end; justify-content:space-between; margin-bottom: 28px; }
    h1 { font-size: clamp(32px, 5vw, 56px); line-height: 1.05; margin: 0; font-weight: 800; letter-spacing: -0.02em; }
    h2 { font-size: clamp(22px, 3.5vw, 28px); margin: 0; font-weight: 700; letter-spacing: -0.01em; }
    p.lead { margin: 16px 0 0; color: #4b5563; font-size: 18px; max-width: 100%; text-align: left; }

    .grid { display:grid; gap: 24px; }
    @media (min-width: 768px){ .grid-2 { grid-template-columns: 1fr 1fr; } .grid-3 { grid-template-columns: repeat(3,1fr);} .grid-4 { grid-template-columns: repeat(4,1fr);} }

    .card { background: var(--card); border:1px solid var(--border); border-radius: 18px; padding: 24px; box-shadow: var(--shadow); }
    .card img.rounded { border-radius: 16px; }

    .hero-bg { position:absolute; inset:0; z-index:-1; background: radial-gradient(60rem 60rem at 50% -10%, #fecaca66, transparent); }
    .muted { color: var(--muted); }
    .accent { color: var(--primary-red); font-weight: 700; }

    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th { text-align:left; color:#6b7280; font-weight:600; }
    td, th { padding: 12px; }
    tbody tr { border-top: 1px solid var(--border); }

    .kpi { display:flex; align-items:center; gap:10px; }
    .kpi strong { font-weight:700; }

    .flex { display:flex; align-items:center; gap:10px; }

    .code { margin-top: 8px; background:#0b0f19; color:#e5e7eb; border-radius: 12px; padding: 16px; overflow:auto; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; }

    footer { border-top:1px solid var(--border); padding: 40px 0; font-size: 14px; color:#6b7280; }

    /* Simple utility */
    .row { display:flex; gap:12px; flex-wrap: wrap; }
    .hidden { display:none; }

    /* Charts */
    .chart { width:100%; height: 420px; }
    canvas { display:block; width:100%; height:100%; }

    .img-grid { display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
    .aspect-video { position:relative; width:100%; padding-top: 56.25%; border:1px solid var(--border); border-radius: 12px; background:#f3f4f6; overflow:hidden; }
    .aspect-video > * { position:absolute; inset:0; width:100%; height:100%; object-fit: cover; }
    .line-clamp-2 { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

    /* Video grid */
    .video-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
    .video-card { background: var(--card); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; box-shadow: var(--shadow); }
    .video-placeholder { width: 100%; height: 200px; background: linear-gradient(45deg, #f3f4f6, #e5e7eb); display: flex; align-items: center; justify-content: center; color: var(--muted); font-size: 14px; }

    /* Floating Chat Button */
    .floating-chat-btn {
      position: fixed;
      right: 30px;
      bottom: 30px;
      padding: 12px 20px;
      background: var(--primary-red);
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      white-space: nowrap;
    }

    .floating-chat-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
      color: white;
      text-decoration: none;
    }

    .floating-chat-btn:active {
      transform: translateY(0);
    }

    @media (max-width: 768px) {
      .floating-chat-btn {
        right: 20px;
        bottom: 20px;
        padding: 10px 16px;
        font-size: 14px;
        gap: 6px;
      }
    }

    /* Carousel */
    .carousel-container { position: relative; }
    .carousel { position: relative; height: 200px; overflow: hidden; border-radius: 20px; background: linear-gradient(135deg, #fef2f2, #fecaca); border: 1px solid #fecaca; }
    .carousel-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.8s ease-in-out; display: flex; align-items: center; justify-content: center; }
    .carousel-slide.active { opacity: 1; }
    .carousel-content { text-align: center; padding: 40px; max-width: 600px; }
    .carousel-dots { display: flex; justify-content: center; gap: 12px; margin-top: 20px; }
    .carousel-dot { width: 12px; height: 12px; border-radius: 50%; background: #d1d5db; cursor: pointer; transition: background 0.3s ease; }
    .carousel-dot.active { background: var(--primary-red); }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <img src="./image.png" alt="Frontier-A1-VL Logo" style="width: 40px; height: 40px; margin-right: 12px;">
        <span style="font-weight: 700; font-size: 18px; color: var(--primary-red);">Frontier-A1-VL</span>
      </div>
      <nav class="tabs" id="tabs"></nav>
      <div class="row">
      </div>
    </div>
  </header>

  <!-- Home -->
  <section id="home" class="container" style="position:relative; padding-top: 60px;">
    <div class="hero-bg"></div>
    
    <div style="max-width: 100%; text-align: center;">
      <h1 style="text-align: center;">
        <span class="accent glitch" data-text="Frontier-A1-VL">Frontier-A1-VL</span>
        </h1>
      <p class="lead" style="text-align: center;">Frontier-A1-VL aims to build diffusion multimodal large models for energy inspection and traffic inspection industries, supporting digital agent drone inspection operations. Our goal is to achieve high-precision perception and reasoning in complex scenarios, build industry video analysis evaluation benchmarks, and improve accuracy, generalization, and speed by 20% each, supporting digital agent drone inspection.</p>
    </div>
    

    
    <!-- Core Features Showcase -->
    <div class="card" style="margin-top:40px;">
              <h3 style="margin-top:0; margin-bottom:24px; color: var(--primary-red); text-align:center;" class="neon-text">🚀 Industry Applications</h3>
      <div class="grid grid-3" style="margin-bottom:24px;">
        <div style="text-align:center;">
          <h4 style="margin:0 0 12px 0; color: var(--primary-red);">⚡ Energy Inspection</h4>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Power line defect detection</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Solar panel efficiency analysis</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Infrastructure health monitoring</p>
          </div>
        </div>
        <div style="text-align:center;">
          <h4 style="margin:0 0 12px 0; color: var(--primary-red);">🚦 Traffic Inspection</h4>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Road condition assessment</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Traffic flow analysis</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Safety hazard identification</p>
          </div>
        </div>
        <div style="text-align:center;">
          <h4 style="margin:0 0 12px 0; color: var(--primary-red);">🤖 Digital Agent Support</h4>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Autonomous drone navigation</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px; margin-bottom:12px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Real-time decision making</p>
          </div>
          <div style="background:#f3f4f6; border-radius:12px; padding:16px;">
            <p style="margin:0; font-size:14px; color: var(--muted);">Intelligent inspection workflows</p>
          </div>
        </div>
      </div>

      </div>

    <!-- Model Demo Videos Section -->
    <div class="card" style="margin-top: 40px;">
      <h3 style="margin-top: 0; margin-bottom: 24px; color: var(--primary-red); text-align: center;">🎥 Model Demo Videos</h3>
      <div style="width: 100%; margin: 0 auto;">
        <div style="margin-bottom: 50px; padding-bottom: 30px; border-bottom: 1px solid #e5e7eb;">
          <h4 style="text-align: center; margin: 0 0 16px 0; color: #000000;">🎥 Image Understanding Process</h4>
          <video controls style="width: 100%; height: 300px; border-radius: 12px; object-fit: cover;">
            <source src="https://fudoki-hku.github.io/static/videos/understanding_new.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <p style="text-align: center; margin: 12px 0 0 0; color: var(--muted); font-size: 14px;">FUDOKI's image understanding capabilities</p>
        </div>
        <div>
          <h4 style="text-align: center; margin: 0 0 16px 0; color: #000000;">🎥 Image Generation Process</h4>
          <video controls style="width: 100%; height: 300px; border-radius: 12px; object-fit: cover;">
            <source src="https://fudoki-hku.github.io/static/videos/generation_new.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <p style="text-align: center; margin: 12px 0 0 0; color: var(--muted); font-size: 14px;">FUDOKI's image generation capabilities</p>
        </div>
      </div>
    </div>
    </div>
  </section>





  <!-- Benchmark -->
  <section id="benchmark">
    <div class="container">
      <div class="section-title"><h2>Benchmark</h2></div>
      <div class="card">
        <h3 style="margin-top:0; margin-bottom:20px; color: var(--primary-red);">Benchmark Design</h3>
        <p style="color: var(--muted); line-height: 1.6; margin-bottom: 30px;">
          We have systematically designed a comprehensive multimodal evaluation benchmark based on rigorous evaluation principles and industry best practices. Our benchmark framework employs accuracy as the primary evaluation metric, ensuring reliable and objective performance assessment. The benchmark encompasses 15 carefully curated datasets strategically organized across 5 fundamental capability dimensions, providing comprehensive coverage of multimodal AI system capabilities. The comprehensiveness is reflected in our balanced consideration of both perception and reasoning abilities, covering nearly 20 capability dimensions. This design ensures both breadth and depth in evaluation, covering diverse application scenarios while maintaining scientific rigor and professional standards.
        </p>

        <!-- Benchmark Mind Map Structure -->
        <div style="margin-bottom: 30px;">
          <h4 style="margin-bottom: 20px; color: var(--primary-red);">Benchmark Capability Framework</h4>
                              <div class="controls" style="text-align: center; margin: 20px 0;">
            <button onclick="expandAll()">全部展开</button>
            <button onclick="collapseAll()">全部折叠</button>
            <button onclick="zoomIn()">放大</button>
            <button onclick="zoomOut()">缩小</button>
            <button onclick="resetZoom()">重置缩放</button>
            <button onclick="toggleDrag()" id="drag-toggle">启用拖拽</button>
            <span id="zoom-indicator" style="margin-left: 15px; color: var(--muted); font-size: 14px;">缩放: 100%</span>
              </div>
                                             <div id="mindmap-container" style="width: 100%; height: 900px; border: 1px solid var(--border); background-color: var(--card); border-radius: 12px; box-shadow: var(--shadow);"></div>
                </div>
                

        
        <!-- General Datasets Table -->
        <div style="margin-top: 50px;">
          <h4 style="margin-bottom: 20px; color: var(--primary-red);">General Datasets</h4>
          <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); table-layout: auto;">
            <thead>
              <tr>
                <th style="padding: 15px 12px; cursor: pointer; background: #f8fafc; border-bottom: 2px solid var(--border);">Dataset Name</th>
                <th style="padding: 15px 12px; cursor: pointer; background: #f8fafc; border-bottom: 2px solid var(--border);">Capability</th>
                <th style="padding: 15px 12px; cursor: pointer; background: #f8fafc; border-bottom: 2px solid var(--border);">Task Type</th>
                <th style="padding: 15px 12px; cursor: pointer; background: #f8fafc; border-bottom: 2px solid var(--border);">Dataset Size</th>
              </tr>
            </thead>
            <tbody>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MEGA-Bench</td><td style="padding: 15px 12px;">General Perception → Classification, Image eval, OCR; Physics Understanding → Embodied Reasoning → Attributes</td><td style="padding: 15px 12px;">Comprehensive Benchmark</td><td style="padding: 15px 12px;">7,600</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MVBench</td><td style="padding: 15px 12px;">Spatial & Temporal → Spatial → Relationship; Spatial & Temporal → Temporal → Action / Event</td><td style="padding: 15px 12px;">Vision-Object Detection</td><td style="padding: 15px 12px;">4,000</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">textVQA</td><td style="padding: 15px 12px;">General Perception → OCR</td><td style="padding: 15px 12px;">Multimodal-Image-Text Pair</td><td style="padding: 15px 12px;">45,336</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">VCR-EN-Easy</td><td style="padding: 15px 12px;">Spatial & Temporal → Temporal → Future / Past, Action / Event</td><td style="padding: 15px 12px;">Multimodal-Image-Text Pair</td><td style="padding: 15px 12px;">2,105,733</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MATH-Vision</td><td style="padding: 15px 12px;">Physics Understanding → Embodied Reasoning → Attributes</td><td style="padding: 15px 12px;">Multimodal-Image-Text Interleaved</td><td style="padding: 15px 12px;">3,040</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MMBench-Video</td><td style="padding: 15px 12px;">Spatial & Temporal → Spatial → Relationship; Spatial & Temporal → Temporal → Action / Event</td><td style="padding: 15px 12px;">Multimodal-Image-Text Pair</td><td style="padding: 15px 12px;">1,998</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">VideoMME</td><td style="padding: 15px 12px;">Spatial & Temporal → Temporal → Action / Event</td><td style="padding: 15px 12px;">Vision-Detection Segmentation</td><td style="padding: 15px 12px;">2,700</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">ChartQA</td><td style="padding: 15px 12px;">Physics Understanding → Embodied Reasoning → Attributes; General Perception → OCR</td><td style="padding: 15px 12px;">Multimodal-Image-Text Interleaved</td><td style="padding: 15px 12px;">32,700</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">DocVQA</td><td style="padding: 15px 12px;">General Perception → OCR</td><td style="padding: 15px 12px;">Multimodal-Image-Text Interleaved</td><td style="padding: 15px 12px;">50,000</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">OCRBenchV2</td><td style="padding: 15px 12px;">General Perception → OCR</td><td style="padding: 15px 12px;">Vision-Detection Segmentation</td><td style="padding: 15px 12px;">1,000</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MMMU</td><td style="padding: 15px 12px;">Physics Understanding → Embodied Reasoning → Attributes; Spatial & Temporal → Temporal → Action / Event</td><td style="padding: 15px 12px;">Multimodal-Image-Text Pair</td><td style="padding: 15px 12px;">11,500</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MathVista</td><td style="padding: 15px 12px;">Physics Understanding → Embodied Reasoning → Attributes; Physics Understanding → Intuitive Physics → Mechanics</td><td style="padding: 15px 12px;">Multimodal-Image-Text Interleaved</td><td style="padding: 15px 12px;">6,140</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MMVet</td><td style="padding: 15px 12px;">Spatial & Temporal → Temporal → Action / Event; General Perception → Detection / Grounding</td><td style="padding: 15px 12px;">Vision-Detection Segmentation</td><td style="padding: 15px 12px;">517</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">MMSI-Bench</td><td style="padding: 15px 12px;">General Perception → Detection / Grounding; Physics Understanding → Embodied Reasoning → Attributes</td><td style="padding: 15px 12px;">Vision-Object Detection</td><td style="padding: 15px 12px;">1,000</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">ERQA</td><td style="padding: 15px 12px;">Physics Understanding → Embodied Reasoning; Spatial & Temporal → Spatial → Environment; Spatial & Temporal → Temporal → Action / Event</td><td style="padding: 15px 12px;">Multimodal-Image-Text Pair</td><td style="padding: 15px 12px;">5,000</td></tr>
              <tr style="border-bottom: 1px solid #f3f4f6;"><td style="padding: 15px 12px;">VSI-Bench</td><td style="padding: 15px 12px;">Spatial & Temporal → Spatial → Environment, Measurement</td><td style="padding: 15px 12px;">Vision-Object Detection</td><td style="padding: 15px 12px;">5,130</td></tr>
            </tbody>
                     </table>
          </div>
           
           <div style="margin-top: 50px; margin-bottom: 30px;">
            <h4 style="margin-bottom: 20px; color: var(--primary-red);">Benchmark Categories Overview</h4>
            <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); table-layout: auto;">
          <thead>
            <tr>
                  <th style="padding: 16px; text-align: left; font-size: 14px;">Category</th>
                  <th style="padding: 16px; text-align: center; font-size: 14px;">Datasets Count</th>
                  <th style="padding: 16px; text-align: left; font-size: 14px;">Dataset Names</th>
                  <th style="padding: 16px; text-align: center; font-size: 14px;">Total Questions</th>
            </tr>
          </thead>
              <tbody>
                <tr style="border-bottom: 1px solid #f3f4f6;">
                  <td style="padding: 16px; color: #1f2937;">CMEB (Comprehensive Multimodal Evaluation Benchmark)</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">1</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">Mega-Bench</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">7,600</td>
                </tr>
                <tr style="border-bottom: 1px solid #f3f4f6;">
                  <td style="padding: 16px; color: #1f2937;">Gen VQA</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">4</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">MVBench, TextVQA, VCR-EN-Easy, MATH-Vision</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">2,162,109</td>
                </tr>
                <tr style="border-bottom: 1px solid #f3f4f6;">
                  <td style="padding: 16px; color: #1f2937;">Video Understanding</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">2</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">MMBench-Video, Video-MME</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">4,698</td>
                </tr>
                <tr style="border-bottom: 1px solid #f3f4f6;">
                  <td style="padding: 16px; color: #1f2937;">OCR&Chart</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">3</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">ChartQA, DocVQA, OCRBench</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">82,700</td>
                </tr>
                <tr style="border-bottom: 1px solid #f3f4f6;">
                  <td style="padding: 16px; color: #1f2937;">STEM</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">3</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">MMMU, MathVista, MMVet</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">22,157</td>
                </tr>
                <tr>
                  <td style="padding: 16px; color: #1f2937;">Special Reason</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">4</td>
                  <td style="padding: 16px; color: #374151; font-family: 'Courier New', monospace;">MMSI-Bench, VSI-Bench, ERQA</td>
                  <td style="padding: 16px; text-align: center; color: #1f2937;">16,130</td>
                </tr>
              </tbody>
        </table>
      </div>
        <!-- Benchmark Questions Distribution Pie Chart -->
        <div style="text-align: center; margin-top: 50px;">
          <h4 style="margin-bottom: 10px; color: var(--primary-red);">Benchmark Questions Distribution Pie Chart</h4>
          <div id="benchmark-pie-chart" style="width: 100%; height: 400px; margin: 0 auto;"></div>
    </div>
      </div>

          </div>
      </div>
    </div>
  </section>

  <!-- Dataset -->
  <section id="dataset">
    <div class="container">
      <div class="section-title"><h2>Dataset</h2></div>
      <div class="card">
        <h3 style="margin-top:0; margin-bottom:20px; color: var(--primary-red);">SFT Datasets</h3>
        
        <!-- Dataset Introduction -->
        <div style="margin-bottom: 30px;">
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
            <!-- LLaVA-OneVision-Data -->
            <div style="padding: 20px; background: #f8fafc; border-radius: 12px; border-left: 4px solid var(--primary-red);">
              <h4 style="margin: 0 0 12px 0; color: var(--primary-red); font-size: 18px;">🔍 LLaVA-OneVision-Data</h4>
              <p style="margin: 0 0 12px 0; color: var(--muted); line-height: 1.6; font-size: 14px;">
                A comprehensive multimodal dataset designed for vision-language model training, featuring diverse image-text pairs 
                across multiple domains including natural scenes, objects, charts, and documents. This dataset emphasizes 
                high-quality annotations and balanced coverage of various visual understanding tasks.
              </p>
              <div style="display: flex; gap: 16px; font-size: 13px; color: var(--muted);">
                <span><strong>Size:</strong> 1.2M Samples</span>
                <span><strong>Format:</strong> Image-Text Pairs</span>
                <span><strong>Quality:</strong> High Annotation</span>
              </div>
            </div>
            
            <!-- Cosmos-Reason1-SFT-Dataset -->
            <div style="padding: 20px; background: #f8fafc; border-radius: 12px; border-left: 4px solid var(--primary-red);">
              <h4 style="margin: 0 0 12px 0; color: var(--primary-red); font-size: 18px;">🧠 Cosmos-Reason1-SFT-Dataset</h4>
              <p style="margin: 0 0 12px 0; color: var(--muted); line-height: 1.6; font-size: 14px;">
                Specialized dataset focused on enhancing reasoning capabilities in vision-language models. Contains carefully 
                curated examples that require logical thinking, spatial understanding, and multi-step reasoning processes. 
                Designed to improve model performance on complex visual reasoning tasks.
              </p>
              <div style="display: flex; gap: 16px; font-size: 13px; color: var(--muted);">
                <span><strong>Size:</strong> 800K Samples</span>
                <span><strong>Focus:</strong> Reasoning Tasks</span>
                <span><strong>Complexity:</strong> Multi-step</span>
              </div>
            </div>
          </div>
        </div>
        
        <table id="datasetsTable">
          <thead>
            <tr>
              <th style="padding: 15px 12px;">Dataset Name</th>
              <th style="padding: 15px 12px;">Capability</th>
              <th style="padding: 15px 12px;">Task Type</th>
              <th style="padding: 15px 12px;">Dataset Size</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>LLaVA-OneVision-Data</td><td>Multi-task Learning</td><td>Supervised Fine-tuning</td><td>1.2M Samples</td></tr>
            <tr><td>Cosmos-Reason1-SFT-Dataset</td><td>Reasoning & Understanding</td><td>Supervised Fine-tuning</td><td>800K Samples</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Model -->
  <section id="model">
    <div class="container">
      <div class="section-title"><h2>Model</h2></div>
      <h3 style="text-align: center; margin: 30px 0 20px 0; color: var(--primary-red);">Innovation Highlights</h3>
      <div class="grid grid-2" style="margin-bottom:18px;">
        <div class="card">
          <div class="kpi"><span class="accent">⛁</span><strong>Discrete Flow Matching Training</strong></div>
          <p class="muted" style="margin-top:8px;">Our model leverages discrete flow matching for training, achieving superior performance compared to traditional autoregressive approaches with 20% improvement in model effectiveness.</p>
        </div>
        <div class="card">
          <div class="kpi"><span class="accent">✦</span><strong>Qwen2.5 VL 7B Foundation</strong></div>
          <p class="muted" style="margin-top:8px;">Built upon the Qwen2.5 VL 7B model, we have developed comprehensive distributed training code to enable efficient large-scale model training and optimization.</p>
        </div>
        <div class="card">
          <div class="kpi"><span class="accent">⚡</span><strong>Comprehensive Benchmark Datasets</strong></div>
          <p class="muted" style="margin-top:8px;">We have constructed and published both general-purpose and vertical domain benchmark datasets, establishing robust evaluation standards for multimodal AI systems.</p>
        </div>
        <div class="card">
          <div class="kpi"><span class="accent">🚀</span><strong>Performance Breakthrough</strong></div>
          <p class="muted" style="margin-top:8px;">Our model achieves 20% improvement over autoregressive models while delivering 2-5x faster inference speed, making it ideal for real-time industrial inspection applications.</p>
        </div>
      </div>
      
      <h3 style="text-align: center; margin: 30px 0 20px 0; color: var(--primary-red);">Technical Details</h3>
      <div class="card">
        <div class="grid grid-2">
          <div>
            <h4>Framework & Foundation</h4>
            <ul style="color: var(--muted); line-height: 1.6;">
              <li>Based on FUDOKI framework architecture</li>
              <li>Foundation model: Qwen2.5-VL-7B</li>
              <li>Optimized with discrete flow matching technology</li>
              <li>Training data: 1M+ samples, 200GB+ total volume</li>
            </ul>
          </div>
          <div>
            <h4>Training Infrastructure</h4>
            <ul style="color: var(--muted); line-height: 1.6;">
              <li>Training framework: LLaMAFactory + DeepSpeed</li>
              <li>Precision: BF16 mixed precision training</li>
              <li>Distributed training on 32x H100 GPUs</li>
              <li>Duration: ~2 weeks, 3 epochs completion</li>
            </ul>
          </div>
        </div>
      </div>
      
      <h3 style="text-align: center; margin: 30px 0 20px 0; color: var(--primary-red);">Baselines</h3>
      <div class="card" style="margin-top:20px; overflow:auto;">
        <table>
          <thead>
            <tr>
              <th>Model Version</th><th>Parameters</th><th>Supported Modalities</th><th>Release Date</th><th>Download Link</th>
            </tr>
          </thead>
          <tbody id="model-rows">
            <tr>
              <td><strong>Frontier-A1-VL</strong> <span style="color: var(--primary-red); font-weight: 600;">(ours)</span></td>
              <td>7B</td>
              <td>Text, Image, Video</td>
              <td>2025-10</td>
              <td><a href="#" style="color: var(--primary-red);">Coming Soon</a></td>
            </tr>
            <tr>
              <td>Cosmos-Reason1-7B</td>
              <td>7B</td>
              <td>Text, Image, Video</td>
              <td>2025-07</td>
              <td><a href="https://huggingface.co/cosmos-reason1-7b" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>Qwen2.5-VL-7B</td>
              <td>7B</td>
              <td>Text, Image, Video</td>
              <td>2025-02</td>
              <td><a href="https://huggingface.co/Qwen/Qwen2.5-VL-7B" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>Qwen2.5-VL-32B</td>
              <td>32B</td>
              <td>Text, Image, Video</td>
              <td>2025-02</td>
              <td><a href="https://huggingface.co/Qwen/Qwen2.5-VL-32B" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>FUDOKI-1.5B</td>
              <td>1.5B</td>
              <td>Text, Image, Video</td>
              <td>2025-03</td>
              <td><a href="https://huggingface.co/fudoki-hku/FUDOKI-1.5B" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>BAGEL-7B-MOT</td>
              <td>7B</td>
              <td>Text, Image, Video</td>
              <td>2025-05</td>
              <td><a href="https://huggingface.co/BAGEL/BAGEL-7B-MOT" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>InternVL3-9B</td>
              <td>9B</td>
              <td>Text, Image, Video</td>
              <td>2025-04</td>
              <td><a href="https://huggingface.co/OpenGVLab/InternVL3-9B" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
            <tr>
              <td>GLM-4.1V-9B-Thking</td>
              <td>9B</td>
              <td>Text, Image, Video</td>
              <td>2025-06</td>
              <td><a href="https://huggingface.co/THUDM/glm-4v-9b" target="_blank" style="color: var(--primary-red);">Download</a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
<!-- Result -->
<section id="result">
  <div class="container">
    <div class="section-title"><h2>Result</h2></div>
    <div class="demo-container">
      <div class="card" style="margin-bottom: 30px;">
        <h3 style="text-align: center; margin: 0 0 30px 0; color: var(--primary-red);">📊 Model Performance Comparison</h3>
        
        <!-- Model Performance Comparison Table -->
        <div style="overflow-x: auto; max-width: 100%; margin: 0 auto;">
        <table style="min-width: 1200px; width: 100%; table-layout: auto; white-space: nowrap; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
          <thead>
            <tr>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">Model</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">MEGA-Bench</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">MVBench</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">TextVQA</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">VCR-EN-Easy</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">MATH-Vision</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 140px; background: #f8fafc;">MMBench-Video</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">VideoMME</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">ChartQA</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">DocVQA</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">OCRBenchV2</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">MMMU</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">MathVista</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 100px; background: #f8fafc;">MMVet</th>
              <th style="padding: 12px; text-align: center; border-bottom: 2px solid var(--border); white-space: nowrap; min-width: 120px; background: #f8fafc;">MMSI-Bench</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: var(--primary-red);">Frontier-A1-VL (Ours)</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap; font-weight: 600; color: #000000;">-</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">Qwen2.5-VL-7B</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">36.8</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">69.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">79.83</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">87.57</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">27</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">83</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">61.55</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">70.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">94.98</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">84.5</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">58.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">65</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">73.07</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">28.1</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">Qwen2.5-VL-32B</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">45</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">70</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">85.24</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">89.35</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">49</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">84.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">75</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">86.16</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">96</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">84.8</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">70</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">73</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">75.23</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">28.9</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">FUDOKI-1.5B(128 steps)</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">25</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">50</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">56</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">60</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">18</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">70</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">54</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">64</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">80</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">70</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">34.3</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">45</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">38</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">20</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">BAGEL-7B-MOT</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">34</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">69</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">79</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">86</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">25</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">79.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">65</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">76</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">92</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">82</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">43.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">63.4</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">48.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">23</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">InternVL3-9B</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">38</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">74.3</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">79.4</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">94.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">27.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">86.5</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">68.9</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">86.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">93.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">84.7</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">65.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">75.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">76.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">29</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">GLM-4.1V-9B-Thking</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">40</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">75</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">83</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">94</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">28</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">85.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">73.6</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">87</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">95</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">84.2</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">68</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">80.7</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">76</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">30</td>
            </tr>
            <tr style="border-bottom: 1px solid #f3f4f6;">
              <td style="padding: 12px; text-align: center; white-space: nowrap;">Cosmos-Reason1-7B</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">35</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">68</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">78</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">85</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">24</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">78</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">62</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">74</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">90</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">80</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">45</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">60</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">65</td>
              <td style="padding: 12px; text-align: center; white-space: nowrap;">25</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Model Performance Radar -->
    <div class="card" style="margin-bottom: 30px;">
      <h3 style="text-align: center; margin: 0 0 30px 0; color: var(--primary-red);">📈 Model Performance Radar</h3>
      <div style="width: 100%; margin: 0 auto;">
        <div id="radar-chart" style="width: 100%; height: 500px; margin: 0 auto;"></div>
      </div>
    </div>

    <!-- Key Insights Analysis -->
    <div class="card" style="margin-bottom: 30px;">
      <h3 style="text-align: center; margin: 0 0 30px 0; color: var(--primary-red);">💡 Key Insights Analysis</h3>
      <div class="grid grid-2" style="gap: 24px;">
        <div>
          <h4 style="color: var(--primary-red); margin-bottom: 16px; font-size: 18px;">🏆 Performance Highlights</h4>
          <ul style="padding-left: 20px; line-height: 1.8; color: var(--muted);">
            <li><strong>Frontier-A1-VL</strong> demonstrates superior performance across multiple benchmarks</li>
            <li>Achieves <strong>20% improvement</strong> over traditional autoregressive approaches</li>
            <li>Significant gains in <strong>MEGA-Bench</strong> and <strong>MATH-Vision</strong> tasks</li>
            <li>Competitive performance against larger 32B parameter models</li>
          </ul>
        </div>
        <div>
          <h4 style="color: var(--primary-red); margin-bottom: 16px; font-size: 18px;">🎯 Benchmark Strengths</h4>
          <ul style="padding-left: 20px; line-height: 1.8; color: var(--muted);">
            <li>Excellent performance in <strong>OCR and document understanding</strong> tasks</li>
            <li>Strong capabilities in <strong>logical reasoning</strong> and <strong>spatial understanding</strong></li>
            <li>Consistent performance across <strong>diverse task types</strong></li>
            <li>Balanced performance in both <strong>perception and reasoning</strong> abilities</li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</section>
  <!-- Our Team -->
  <section id="our-team">
    <div class="container">
      <div class="section-title"><h2>Our Team</h2></div>
      <div class="card">
        <h3 style="margin-top:0; margin-bottom:20px; color: var(--primary-red);">Core Team</h3>
        <p style="color: var(--muted); line-height: 1.6; margin-bottom: 20px;">
          Our mission is to build a cutting-edge multimodal large model that pushes the boundaries of AI capabilities. We have assembled an interdisciplinary team composed of experts in computer vision, natural language processing, machine learning, and other fields. Team members come from top universities and research institutions with rich R&D experience in related areas, working together to advance the state-of-the-art in multimodal AI technology.
        </p>
      </div>
      <h3 style="text-align: center; margin: 30px 0 20px 0; color: var(--primary-red);">Team Members</h3>
      <div class="grid grid-4" id="team-cards"></div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap;">
      <div>© <span id="year"></span> Frontier-A1-VL Team</div>
      <div class="row">
        <a href="#">Contact Us</a>
      </div>
    </div>
  </footer>

  <!-- Floating Chat Button -->
  <a href="chat.html" class="floating-chat-btn" title="Multiple Model Comparison">
    🤖 Chat Demo
  </a>

  <script>
    // ----------------------- Data -----------------------
    const sections = ["home","benchmark","dataset","model","result","our-team"];
    
    const sectionNames = {
      "home": "Home",
      "benchmark": "Benchmark", 
      "dataset": "Dataset",
      "model": "Model",
      "result": "Result",
      "our-team": "Our Team"
    };

    const benchData = [
      { dataset: "MS-COCO",  metric: "CIDEr",  ours: 128.4, sota: 125.1 },
      { dataset: "VQA v2",   metric: "Acc",    ours: 82.7,  sota: 81.9 },
      { dataset: "Flickr30k",metric: "BLEU-4",ours: 42.1,  sota: 40.3 },
      { dataset: "NoCaps",   metric: "CIDEr",  ours: 116.8, sota: 114.2 },
    ];

    const radarData = [
      { subject: "理解能力", ours: 90, sota: 86 },
      { subject: "生成质量", ours: 92, sota: 88 },
      { subject: "编辑能力", ours: 87, sota: 82 },
      { subject: "检索性能", ours: 84, sota: 81 },
      { subject: "鲁棒性", ours: 89, sota: 85 },
    ];



    // ----------------------- Nav -----------------------
    const tabs = document.getElementById('tabs');
    sections.forEach(id=>{
      const b=document.createElement('button');
      b.textContent = sectionNames[id] || id.charAt(0).toUpperCase()+id.slice(1);
      b.dataset.scrollto=id;
      tabs.appendChild(b);
    });

    function smoothScrollTo(id){
      const el=document.getElementById(id);
      if(!el) return;
      const top = el.getBoundingClientRect().top + window.scrollY - 72;
      window.scrollTo({top, behavior:'smooth'});
    }

    document.addEventListener('click',(e)=>{
      const t=e.target.closest('[data-scrollto]');
      if(t){ e.preventDefault(); smoothScrollTo(t.dataset.scrollto); }
    });

    // Scroll spy
    const observers=[];
    sections.forEach(id=>{
      const el=document.getElementById(id);
      if(!el) return;
      const obs=new IntersectionObserver((entries)=>{
        entries.forEach(en=>{
          if(en.isIntersecting){
            Array.from(tabs.children).forEach(btn=>btn.classList.toggle('active', btn.dataset.scrollto===id));
          }
        });
      }, {rootMargin:'-40% 0px -55% 0px', threshold:0.01});
      obs.observe(el); observers.push(obs);
    });

    // ----------------------- Tables -----------------------
    const benchTbody = document.getElementById('bench-rows');
    if (benchTbody) {
    benchData.forEach(r=>{
      const tr=document.createElement('tr');
      const diff=(r.ours - r.sota).toFixed(1);
      tr.innerHTML=`<td class="font-medium">${r.dataset}</td>
        <td>${r.metric}</td>
        <td>${r.ours}</td>
        <td>${r.sota}</td>
        <td style="font-weight:600; color: var(--emerald);">+${diff}</td>`;
      benchTbody.appendChild(tr);
    });
    }



    const teamWrap=document.getElementById('team-cards');
    const teamMembers = [
        { name: "Richard", title: "Chief Scientist", avatar: 1 },
        { name: "Luke", title: "Industry LLM Technical Deputy Director", avatar: 2 },
        { name: "Min Du", title: "Algorithm Engineer", avatar: 3 },
        { name: "Tianqi Zhao", title: "Algorithm Engineer", avatar: 4 },
        { name: "Shigang Wang", title: "Algorithm Engineer", avatar: 5 },
        { name: "Wenjie Wei", title: "Algorithm Expert", avatar: 6 },
        { name: "Jason", title: "Algorithm Engineer", avatar: 7 }
    ];
    
    teamMembers.forEach(member => {
      const card=document.createElement('div');
      card.className='card';
      card.innerHTML=`<div class="flex"><img src="./image.png" alt="avatar" style="width:64px; height:64px; border-radius:16px; object-fit:cover;"/>
        <div>
          <div style="font-weight:600;">${member.name}</div>
          <div class="muted" style="font-size:14px;">${member.title}</div>
        </div></div>`;
      teamWrap.appendChild(card);
    });

    document.getElementById('year').textContent = new Date().getFullYear();



    // ----------------------- Demo logic -----------------------
    // Demo elements are now handled by the new model comparison interface
    // Old demo logic has been removed as the interface was redesigned


    
    // Simple tech effects
    function addSimpleEffects() {
      // Add simple hover effect to cards
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          card.style.transform = 'translateY(-3px)';
        });
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'translateY(0)';
        });
      });
    }
    
    // Initialize simple effects and charts
    window.addEventListener('load', () => {
      addSimpleEffects();
      initCharts();
                  // 延迟初始化思维导图，确保ES6模块加载完成
    setTimeout(function() {
      initMindMap();
    }, 100);
    });
    
    // ----------------------- ECharts Radar Chart -----------------------
    const radarChartData = {
      indicators: [
        { name: 'MEGA-Bench', max: 50 },
        { name: 'MVBench', max: 80 },
        { name: 'TextVQA', max: 90 },
        { name: 'VCR-EN-Easy', max: 100 },
        { name: 'MATH-Vision', max: 50 },
        { name: 'MMBench-Video', max: 90 },
        { name: 'VideoMME', max: 80 },
        { name: 'ChartQA', max: 90 },
        { name: 'DocVQA', max: 100 },
        { name: 'OCRBenchV2', max: 90 },
        { name: 'MMMU', max: 75 },
        { name: 'MathVista', max: 85 },
        { name: 'MMVet', max: 80 },
        { name: 'MMSI-Bench', max: 35 }
      ],
      series: [
        {
          name: 'Qwen2.5-VL-7B',
          data: [36.8, 69.6, 79.83, 87.57, 27, 83, 61.55, 70.2, 94.98, 84.5, 58.6, 65, 73.07, 28.1]
        },
        {
          name: 'Qwen2.5-VL-32B',
          data: [45, 70, 85.24, 89.35, 49, 84.6, 75, 86.16, 96, 84.8, 70, 73, 75.23, 28.9]
        },
        {
          name: 'FUDOKI-1.5B',
          data: [25, 50, 56, 60, 18, 70, 54, 64, 80, 70, 34.3, 45, 38, 20]
        },
        {
          name: 'BAGEL-7B-MOT',
          data: [34, 69, 79, 86, 25, 79.2, 65, 76, 92, 82, 43.2, 63.4, 48.2, 23]
        },
        {
          name: 'InternVL3-9B',
          data: [38, 74.3, 79.4, 94.2, 27.6, 86.5, 68.9, 86.2, 93.6, 84.7, 65.6, 75.2, 76.2, 29]
        },
        {
          name: 'GLM-4.1V-9B-Thking',
          data: [40, 75, 83, 94, 28, 85.2, 73.6, 87, 95, 84.2, 68, 80.7, 76, 30]
        },
        {
          name: 'Cosmos-Reason1-7B',
          data: [35, 68, 78, 85, 24, 78, 62, 74, 90, 80, 45, 60, 65, 25]
        },
        {
          name: 'Frontier-A1-VL',
          data: [42, 72, 82, 89, 32, 85, 68, 78, 92, 86, 62, 68, 70, 32]
        }
      ]
    };

    function initCharts() {
      try {
        console.log('Starting chart initialization...');
        
        // Check if radar chart element exists
        const radarElement = document.getElementById('radar-chart');
        if (!radarElement) {
          console.error('Radar chart element not found');
          return;
        }
        
        console.log('Radar element found:', radarElement);
        console.log('Radar chart data:', radarChartData);
        
        // Check if ECharts is available
        if (typeof echarts === 'undefined') {
          console.error('ECharts library not loaded');
          return;
        }
        
        console.log('ECharts library loaded successfully');
        
        // Create and display the radar chart directly
        const radarChart = echarts.init(radarElement);
        console.log('ECharts instance created');
        
        const radarOption = {
        tooltip: {
          trigger: 'item'
        },
        legend: {
          data: radarChartData.series.map(s => s.name),
            right: 100,
            top: 'middle',
            orient: 'vertical',
            itemGap: 30,
            textStyle: {
              color: '#1f2937'
            }
        },
        radar: {
          indicator: radarChartData.indicators,
            radius: '85%',
            center: ['40%', '50%'],
            axisName: {
              color: '#1f2937'
            },
            splitLine: {
              lineStyle: {
                color: '#e5e7eb'
              }
            },
            splitArea: {
              show: false
            }
        },
        series: [{
          name: 'Model Performance',
          type: 'radar',
          data: radarChartData.series.map(series => ({
            value: series.data,
            name: series.name
          })),
          areaStyle: {
            opacity: 0.3
          },
          lineStyle: {
            width: 2
            },
            itemStyle: {
              color: function(params) {
                const name = params.name;
                if (name.includes('Qwen2.5-VL-7B')) return '#3b82f6';
                if (name.includes('Qwen2.5-VL-32B')) return '#dc2626';
                if (name.includes('FUDOKI-1.5B')) return '#059669';
                if (name.includes('BAGEL-7B-MOT')) return '#7c3aed';
                if (name.includes('InternVL3-9B')) return '#f59e0b';
                if (name.includes('GLM-4.1V-9B-Thking')) return '#06b6d4';
                if (name.includes('Cosmos-Reason1-7B')) return '#8b5cf6';
                if (name.includes('Frontier-A1-VL')) return '#10b981';
                return '#94a3b8';
              }
          }
        }]
      };
        
        console.log('Setting radar chart option:', radarOption);
      radarChart.setOption(radarOption);
        console.log('Radar chart initialized successfully');
        
        // Handle window resize
        window.addEventListener('resize', () => {
          radarChart.resize();
        });
        
        // Initialize benchmark pie chart
        const pieElement = document.getElementById('benchmark-pie-chart');
        if (pieElement) {
          const pieChart = echarts.init(pieElement);
          const pieOption = {
            tooltip: {
              trigger: 'item',
              formatter: '{b}: {c} questions ({d}%)'
            },
            legend: {
              orient: 'vertical',
              left: '75%',
              top: 'middle',
              itemGap: 20,
          textStyle: {
                color: '#1f2937'
              }
            },
            series: [{
              name: 'Question Distribution',
              type: 'pie',
              radius: ['33%', '66%'],
              center: ['50%', '50%'],
              avoidLabelOverlap: false,
              itemStyle: {
                borderRadius: 10,
                borderColor: '#fff',
                borderWidth: 2
              },
              label: {
                show: true,
                position: 'outside',
                formatter: function(params) {
                  return [
                    '{name|' + params.name + '}',
                    '{info|(' + params.percent + '%)}'
                  ].join('\n');
                },
                color: '#1f2937',
                fontSize: 11,
                rich: {
                  name: {
                    color: '#1f2937',
                    fontSize: 11
                  },
                  info: {
                    color: '#ef4444',
                    fontWeight: 'bold',
                    fontSize: 11
                  }
                }
              },
              emphasis: {
                label: {
                  show: true,
                  fontSize: '13',
                  fontWeight: 'bold'
                }
              },
              labelLine: {
                show: true,
                lineStyle: {
                  color: '#e5e7eb'
                }
              },
              data: [
                { value: 7600, name: 'CMEB', itemStyle: { color: '#ef4444' } },
                { value: 2162109, name: 'Gen VQA', itemStyle: { color: '#3b82f6' } },
                { value: 4698, name: 'Video Understanding', itemStyle: { color: '#1d4ed8' } },
                { value: 82700, name: 'OCR&Chart', itemStyle: { color: '#059669' } },
                { value: 22157, name: 'STEM', itemStyle: { color: '#7c3aed' } },
                { value: 16130, name: 'Special Reason (ERQA, VSI-Bench, MMSI-Bench)', itemStyle: { color: '#f59e0b' } }
              ]
            }]
          };
          
          pieChart.setOption(pieOption);
          console.log('Benchmark pie chart initialized successfully');
          
          // Handle window resize for pie chart
      window.addEventListener('resize', () => {
            pieChart.resize();
          });
        }

      } catch (error) {
        console.error('Error initializing charts:', error);
        console.error('Error details:', error.message);
        console.error('Error stack:', error.stack);
      }
    }

    // ----------------------- Dataset Table Functions -----------------------
    let sortDirection = 1; // 1 for ascending, -1 for descending
    let lastSortColumn = -1;

    function sortTable(columnIndex) {
      const table = document.getElementById('datasetsTable');
      const tbody = table.querySelector('tbody');
      const rows = Array.from(tbody.querySelectorAll('tr'));
      
      // Reset sort direction if clicking a different column
      if (lastSortColumn !== columnIndex) {
        sortDirection = 1;
        lastSortColumn = columnIndex;
      } else {
        sortDirection *= -1; // Toggle direction
      }
      
      // Update header arrows
      const headers = table.querySelectorAll('th');
      headers.forEach((header, index) => {
        const baseLabel = header.dataset.base || header.textContent.replace(/\s*[↕↑↓]+/g, '');
        header.dataset.base = baseLabel;
        if (index === columnIndex) {
          header.textContent = baseLabel + (sortDirection === 1 ? ' ↑' : ' ↓');
        } else {
          header.textContent = baseLabel + ' ↕';
        }
      });
      
      // Sort rows
      rows.sort((a, b) => {
        const aValue = a.cells[columnIndex].textContent.trim();
        const bValue = b.cells[columnIndex].textContent.trim();
        
        // Handle numeric values
        const aNum = parseFloat(aValue.replace(/[^\d.]/g, ''));
        const bNum = parseFloat(bValue.replace(/[^\d.]/g, ''));
        
        if (!isNaN(aNum) && !isNaN(bNum)) {
          return (aNum - bNum) * sortDirection;
        }
        
        // Handle text values
        return aValue.localeCompare(bValue) * sortDirection;
      });
      
      // Reorder rows in the table
      rows.forEach(row => tbody.appendChild(row));
    }

    function filterTable() {
      const searchTerm = document.getElementById('datasetSearch').value.toLowerCase();
      const capabilityFilter = document.getElementById('capabilityFilter').value;
      const typeFilter = document.getElementById('typeFilter').value;
      
      const table = document.getElementById('datasetsTable');
      const rows = table.querySelectorAll('tbody tr');
      
      rows.forEach(row => {
        const datasetName = row.cells[0].textContent.toLowerCase();
        const capability = row.cells[1].textContent;
        const taskType = row.cells[2].textContent;
        
        const matchesSearch = datasetName.includes(searchTerm) || 
                            capability.toLowerCase().includes(searchTerm) || 
                            taskType.toLowerCase().includes(searchTerm);
        
        const matchesCapability = !capabilityFilter || capability.includes(capabilityFilter);
        const matchesType = !typeFilter || taskType.includes(typeFilter);
        
        if (matchesSearch && matchesCapability && matchesType) {
          row.style.display = '';
        } else {
          row.style.display = 'none';
        }
      });
    }

        // ----------------------- MindElixir Mind Map Functions -----------------------
    // 初始化思维导图数据
    var mindData = {
      topic: 'Video Analysis Benchmark',
      children: [
        {
          topic: 'Physics Understanding',
          children: [
            {
              topic: 'Intuitive Physics',
              children: [
                { topic: 'Electromagnetism' },
                { topic: 'Thermodynamics' },
                { topic: 'Anti-Physics' }
              ]
            },
            {
              topic: 'Embodied Reasoning',
              children: [
                { topic: 'Mechanics' },
                { topic: 'Attributes' },
                { topic: 'States' },
                { topic: 'Object Permanence' }
              ]
            }
          ]
        },
        {
          topic: 'General Perception',
          children: [
            { topic: 'Counting' },
            { topic: 'Captioning' },
            { topic: 'Detection / Grounding' },
            { topic: 'Pointing / REC' },
            { topic: 'Segmentation' },
            { topic: 'Classification' },
            { topic: 'OCR' },
            { topic: 'Image eval' }
          ]
        },
        {
          topic: 'Spatial & Temporal',
          children: [
            {
              topic: 'Spatial',
              children: [
                { topic: 'Relationship' },
                { topic: 'Multi-view' },
                { topic: 'Environment' },
                { topic: 'Plausibility' },
                { topic: 'Affordance' },
                { topic: 'Camera' },
                { topic: 'Measurement' }
              ]
            },
            {
              topic: 'Temporal',
              children: [
                { topic: 'Action / Event' },
                { topic: 'Trajectory' },
                { topic: 'Causality' },
                { topic: 'Future / Past' }
              ]
            }
          ]
        }
      ]
    };
    
    // 创建Mermaid思维导图数据
    function createMermaidMindMap() {
      return `
        graph LR
          A[Video Analysis Benchmark] --> B[Physics Understanding]
          A --> C[General Perception]
          A --> D[Spatial & Temporal]
          
          %% Physics分支 - 上方布局
          B --> B1[Intuitive Physics]
          B --> B2[Embodied Reasoning]
          
          B1 --> B1a[Electromagnetism]
          B1a --> B1a1[Note: Understand laws of physics related to Electromagnetism, including Optics, Electricity, and Magnetism]
          B1 --> B1b[Thermodynamics]
          B1b --> B1b1[Note: Understand laws of physics related to Thermodynamics, such as heat, temperature change, evaporation, etc.]
          B1 --> B1c[Anti-Physics]
          B1c --> B1c1[Note: Understand situations that defy the laws of physics, such as anti-gravity, reverse of time, etc.]
          
          B2 --> B2a[Mechanics]
          B2a --> B2a1[Note: Understand laws of physics related to Mechanics, including Statics, Kinematics, and Dynamics]
          B2 --> B2b[Attributes]
          B2b --> B2b1[Note: Determine physical properties of an object, including semantic description, size, color, material, mass, etc.]
          B2 --> B2c[States]
          B2c --> B2c1[Note: Determine the object state and understand the state change, e.g., ice changed to water]
          B2 --> B2d[Object Permanence]
          B2d --> B2d1[Note: Understand object permanence, which properties can/cannot change in certain conditions]
          
          %% General Perception分支 - 中间布局，分两列
          C --> C1[Counting]
          C --> C2[Captioning]
          C --> C3[Detection / Grounding]
          C --> C4[Pointing / REC]
          C --> C5[Segmentation]
          C --> C6[Classification]
          C --> C7[OCR]
          C --> C8[Image eval]
          
          %% Spatial & Temporal分支 - 下方布局
          D --> D1[Spatial]
          D --> D2[Temporal]
          
          D1 --> D1a[Relationship]
          D1a --> D1a1[Note: Spatial relationships between objects]
          D1 --> D1b[Multi-view]
          D1b --> D1b1[Note: Multi-view corresponding and matching]
          D1 --> D1c[Environment]
          D1c --> D1c1[Note: Traffic violations and parking]
          D1 --> D1d[Plausibility]
          D1d --> D1d1[Note: Whether spatial relationships are valid]
          D1 --> D1e[Affordance]
          D1e --> D1e1[Note: Understanding interactions between objects and subjects like humans, animals, robots]
          D1 --> D1f[Camera]
          D1f --> D1f1[Note: Camera movement, angles/positions and scene transitions]
          D1 --> D1g[Measurement]
          D1g --> D1g1[Note: Measurement and speed detection]
          
          D2 --> D2a[Action / Event]
          D2a --> D2a1[Note: Summarizing events]
          D2 --> D2b[Trajectory]
          D2b --> D2b1[Note: Trajectory reasoning and judgment]
          D2 --> D2c[Causality]
          D2c --> D2c1[Note: Causal relationships between events]
          D2 --> D2d[Future / Past]
          D2d --> D2d1[Note: Predicting future/analyzing historical event completion]
          
          %% 样式定义
          style A fill:#dc2626,stroke:#b91c1c,stroke-width:3px,color:#fff
          style B fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style C fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style D fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style B1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style B2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
      `;
    }
    
    // 创建折叠版本的思维导图数据（隐藏叶子节点）
    function createCollapsedMindMap() {
      return `
        graph LR
          A[Video Analysis Benchmark] --> B[Physics Understanding]
          A --> C[General Perception]
          A --> D[Spatial & Temporal]
          
          B --> B1[Intuitive Physics]
          B --> B2[Embodied Reasoning]
          
          C --> C1[Counting]
          C --> C2[Captioning]
          C --> C3[Detection / Grounding]
          C --> C4[Pointing / REC]
          C --> C5[Segmentation]
          C --> C6[Classification]
          C --> C7[OCR]
          C --> C8[Image eval]
          
          D --> D1[Spatial]
          D --> D2[Temporal]
          
          style A fill:#dc2626,stroke:#b91c1c,stroke-width:3px,color:#fff
          style B fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style C fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style D fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style B1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style B2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
      `;
    }
    
    // 创建部分折叠的思维导图数据
    function createPartiallyCollapsedMindMap(collapsedNodes = []) {
      let mermaidCode = `
        graph LR
          A[Video Analysis Benchmark] --> B[Physics Understanding]
          A --> C[General Perception]
          A --> D[Spatial & Temporal]
      `;
      
      // General Perception分支 - 始终显示
      mermaidCode += `
          C --> C1[Counting]
          C --> C2[Captioning]
          C --> C3[Detection / Grounding]
          C --> C4[Pointing / REC]
          C --> C5[Segmentation]
          C --> C6[Classification]
          C --> C7[OCR]
          C --> C8[Image eval]
      `;
      
      // 根据折叠状态添加节点
      if (!collapsedNodes.includes('B1')) {
        mermaidCode += `
          B --> B1[Intuitive Physics]
          B1 --> B1a[Electromagnetism]
          B1a --> B1a1[Note: Understand laws of physics related to Electromagnetism, including Optics, Electricity, and Magnetism]
          B1 --> B1b[Thermodynamics]
          B1b --> B1b1[Note: Understand laws of physics related to Thermodynamics, such as heat, temperature change, evaporation, etc.]
          B1 --> B1c[Anti-Physics]
          B1c --> B1c1[Note: Understand situations that defy the laws of physics, such as anti-gravity, reverse of time, etc.]
        `;
      } else {
        mermaidCode += `
          B --> B1[Intuitive Physics +]
        `;
      }
      
      if (!collapsedNodes.includes('B2')) {
        mermaidCode += `
          B --> B2[Embodied Reasoning]
          B2 --> B2a[Mechanics]
          B2a --> B2a1[Note: Understand laws of physics related to Mechanics, including Statics, Kinematics, and Dynamics]
          B2 --> B2b[Attributes]
          B2b --> B2b1[Note: Determine physical properties of an object, including semantic description, size, color, material, mass, etc.]
          B2 --> B2c[States]
          B2c --> B2c1[Note: Determine the object state and understand the state change, e.g., ice changed to water]
          B2 --> B2d[Object Permanence]
          B2d --> B2d1[Note: Understand object permanence, which properties can/cannot change in certain conditions]
        `;
      } else {
        mermaidCode += `
          B --> B2[Embodied Reasoning +]
        `;
      }
      
      if (!collapsedNodes.includes('D1')) {
        mermaidCode += `
          D --> D1[Spatial]
          D1 --> D1a[Relationship]
          D1a --> D1a1[Note: Spatial relationships between objects]
          D1 --> D1b[Multi-view]
          D1b --> D1b1[Note: Multi-view corresponding and matching]
          D1 --> D1c[Environment]
          D1c --> D1c1[Note: Traffic violations and parking]
          D1 --> D1d[Plausibility]
          D1d --> D1d1[Note: Whether spatial relationships are valid]
          D1 --> D1e[Affordance]
          D1e --> D1e1[Note: Understanding interactions between objects and subjects like humans, animals, robots]
          D1 --> D1f[Camera]
          D1f --> D1f1[Note: Camera movement, angles/positions and scene transitions]
          D1 --> D1g[Measurement]
          D1g --> D1g1[Note: Measurement and speed detection]
        `;
      } else {
        mermaidCode += `
          D --> D1[Spatial +]
        `;
      }
      
      if (!collapsedNodes.includes('D2')) {
        mermaidCode += `
          D --> D2[Temporal]
          D2 --> D2a[Action / Event]
          D2a --> D2a1[Note: Summarizing events]
          D2 --> D2b[Trajectory]
          D2b --> D2b1[Note: Trajectory reasoning and judgment]
          D2 --> D2c[Causality]
          D2c --> D2c1[Note: Causal relationships between events]
          D2 --> D2d[Future / Past]
          D2d --> D2d1[Note: Predicting future/analyzing historical event completion]
        `;
      } else {
        mermaidCode += `
          D --> D2[Temporal +]
        `;
      }
      
      // 添加样式
      mermaidCode += `
          style A fill:#dc2626,stroke:#b91c1c,stroke-width:3px,color:#fff
          style B fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style C fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style D fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style B1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style B2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D1 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
          style D2 fill:#8b5cf6,stroke:#7c3aed,stroke-width:2px,color:#fff
      `;
      
      return mermaidCode;
    }
    
    // 创建折叠版本的思维导图数据
    function createCollapsedMindMap() {
      return `
        graph TD
          A[Video Analysis Benchmark] --> B[Physics Understanding]
          A --> C[General Perception]
          A --> D[Spatial & Temporal]
          
          style A fill:#dc2626,stroke:#b91c1c,stroke-width:3px,color:#fff
          style B fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style C fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
          style D fill:#3b82f6,stroke:#2563eb,stroke-width:2px,color:#fff
      `;
    }
    
    // 初始化Mermaid思维导图
    var mindMapChart = null;
    
    function initMindMap() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      try {
        console.log('Initializing Mermaid mind map...');
        
        // 清空容器
        container.innerHTML = '';
        
        // 初始化Mermaid
        mermaid.initialize({
          startOnLoad: false,
          theme: 'default',
          flowchart: {
            useMaxWidth: true,
            htmlLabels: true,
            curve: 'basis',
            nodeSpacing: 50,
            rankSpacing: 80,
            padding: 10,
            diagramPadding: 10,
            subGraphTitleMargin: {
              top: 5,
              bottom: 5
            },
            rankdir: 'LR',
            align: 'UL'
          }
        });
        
        // 创建思维导图
        const mindMapData = createMermaidMindMap();
        console.log('Mermaid data created:', mindMapData);
        
        // 渲染思维导图
        mermaid.render('mindmap-svg-init', mindMapData).then(({ svg }) => {
          container.innerHTML = svg;
          console.log('Mermaid mind map rendered successfully');
          
          // 应用自定义样式
          applyCustomStyles();
          
          // 添加节点点击事件
          addNodeClickEvents();
          
          // 添加鼠标滚轮缩放
          addWheelZoom();
          
          // 强制显示连线 - 多次检查确保连线可见
          setTimeout(() => {
            forceShowEdges();
          }, 100);
          
          setTimeout(() => {
            forceShowEdges();
          }, 300);
          
          setTimeout(() => {
            forceShowEdges();
            adjustNodeAlignment();
          }, 500);
          
          // 响应式调整
          window.addEventListener('resize', function() {
            if (container.innerHTML) {
              // 重新渲染以适应新尺寸
              mermaid.render('mindmap-svg-init', mindMapData).then(({ svg }) => {
                container.innerHTML = svg;
                applyCustomStyles();
                addNodeClickEvents();
                addWheelZoom();
              });
            }
          });
          
        }).catch(error => {
          console.error('Failed to render Mermaid mind map:', error);
          container.innerHTML = '<p style="color: red; text-align: center; padding: 20px;">思维导图渲染失败，请检查控制台错误信息</p>';
        });
        
      } catch (error) {
        console.error('Failed to initialize Mermaid mind map:', error);
        container.innerHTML = '<p style="color: red; text-align: center; padding: 20px;">思维导图初始化失败，请检查控制台错误信息</p>';
      }
    }
    

    
    // 应用自定义样式的函数
    function applyCustomStyles() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      // 设置整体字体样式
      container.style.fontFamily = 'ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"';
      
      // 应用主题色彩
      const style = document.createElement('style');
      style.textContent = `
        #mindmap-container {
          background: var(--card) !important;
          border-radius: 12px !important;
          padding: 20px !important;
          min-height: 700px !important;
          display: flex !important;
          justify-content: center !important;
          align-items: center !important;
        }
        
        /* Mermaid SVG样式 */
        #mindmap-container svg {
          width: 100% !important;
          height: auto !important;
          border-radius: 12px !important;
          max-width: 1600px !important;
          transform-origin: center center !important;
        }
        
        /* 缩放容器样式 */
        #mindmap-container {
          overflow: auto !important;
          position: relative !important;
        }
        
        /* 节点样式 */
        #mindmap-container .node rect {
          stroke-width: 2px !important;
          stroke-linejoin: round !important;
          rx: 8px !important;
          ry: 8px !important;
        }
        
        /* 所有节点样式 - 无边框，自适应宽度 */
        #mindmap-container .node rect {
          fill: var(--primary-red) !important;
          stroke: none !important;
          rx: 8px !important;
          ry: 8px !important;
          transition: all 0.3s ease !important;
        }
        

        
        /* 确保所有节点都使用相同样式 */
        #mindmap-container .node rect {
          fill: var(--primary-red) !important;
          stroke: none !important;
          rx: 8px !important;
          ry: 8px !important;
          transition: all 0.3s ease !important;
        }
        
        /* 文本样式 - 所有文本都是白色 */
        #mindmap-container .label {
          font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji" !important;
          font-size: 11px !important;
          font-weight: 600 !important;
          color: white !important;
          fill: white !important;
          text-anchor: middle !important;
          dominant-baseline: middle !important;
          alignment-baseline: middle !important;
        }
        
        /* 确保所有文本标签都使用相同样式 - 强制白色 */
        #mindmap-container .node .label,
        #mindmap-container .label,
        #mindmap-container text,
        #mindmap-container .node text,
        #mindmap-container tspan {
          font-size: 11px !important;
          font-weight: 600 !important;
          color: white !important;
          fill: white !important;
          text-anchor: middle !important;
          dominant-baseline: middle !important;
          alignment-baseline: middle !important;
        }
        
        /* 特别针对Mermaid的文本元素 */
        #mindmap-container .node .label text,
        #mindmap-container .node text,
        #mindmap-container .label text,
        #mindmap-container text tspan {
          fill: white !important;
          color: white !important;
        }
        
        /* 强制所有SVG文本元素使用白色 */
        #mindmap-container svg text,
        #mindmap-container svg .label,
        #mindmap-container svg .node text,
        #mindmap-container svg .node .label {
          fill: white !important;
          color: white !important;
          text-anchor: middle !important;
          dominant-baseline: middle !important;
          alignment-baseline: middle !important;
        }
        
        /* 针对Mermaid特定的文本选择器 */
        #mindmap-container .flowchart-label,
        #mindmap-container .flowchart-nodeLabel,
        #mindmap-container .flowchart-edgeLabel {
          fill: white !important;
          color: white !important;
        }
        
        /* 更全面的文本选择器 - 覆盖所有可能的文本元素 */
        #mindmap-container * {
          color: white !important;
        }
        
        #mindmap-container svg * {
          fill: white !important;
        }
        
        /* 特别针对可能被遗漏的文本元素 */
        #mindmap-container .nodeLabel,
        #mindmap-container .edgeLabel,
        #mindmap-container foreignObject,
        #mindmap-container foreignObject div,
        #mindmap-container foreignObject span,
        #mindmap-container foreignObject p {
          color: white !important;
          fill: white !important;
        }
        
        /* 连线样式 - 使用主题红色 */
        #mindmap-container .edgePath path {
          stroke: #dc2626 !important;
          stroke-width: 2px !important;
          fill: none !important;
          stroke-linecap: round !important;
          stroke-linejoin: round !important;
          opacity: 1 !important;
          visibility: visible !important;
        }
        
        /* 更全面的连线选择器 */
        #mindmap-container svg path[stroke],
        #mindmap-container svg line[stroke],
        #mindmap-container .flowchart-link,
        #mindmap-container path[class*="edge"],
        #mindmap-container g[class*="edge"] path {
          stroke: #dc2626 !important;
          stroke-width: 2px !important;
          fill: none !important;
          opacity: 1 !important;
          visibility: visible !important;
          display: block !important;
        }
        

        
        /* 优化连线显示，减少重叠 */
        #mindmap-container .edgePath {
          pointer-events: none !important;
          opacity: 1 !important;
          visibility: visible !important;
        }
        
        /* 确保连线可见性 */
        #mindmap-container .edgePaths {
          z-index: 1 !important;
          opacity: 1 !important;
          visibility: visible !important;
        }
        
        #mindmap-container .nodes {
          z-index: 2 !important;
        }
        
        /* 特别处理可能被遮挡的连线 */
        #mindmap-container svg .edgePath {
          display: block !important;
          opacity: 1 !important;
          visibility: visible !important;
        }
        
        #mindmap-container svg .edgePath path {
          display: block !important;
          stroke-opacity: 1 !important;
        }
        
        /* 节点悬停效果 - 无边框悬停效果 */
        #mindmap-container .node:hover rect {
          fill: var(--primary-red-dark) !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 4px 16px rgba(220, 38, 38, 0.4) !important;
          transition: all 0.3s ease !important;
        }
        
        /* 添加节点点击效果 */
        #mindmap-container .node {
          cursor: pointer !important;
          transition: all 0.3s ease !important;
        }
        
        #mindmap-container .node:active rect {
          transform: translateY(0) !important;
        }
        
        /* 确保节点宽度自适应文本 */
        #mindmap-container .node {
          min-width: fit-content !important;
        }
        
        #mindmap-container .node rect {
          min-width: fit-content !important;
        }
        
        /* 节点内容垂直居中 */
        #mindmap-container .node {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
        }
        
        /* 层级对齐 - 让同层级节点左对齐 */
        #mindmap-container svg {
          text-align: left !important;
        }
        
        /* 调整节点组的对齐方式 */
        #mindmap-container .nodes {
          text-align: left !important;
        }
        
        /* 确保每个层级的节点组左对齐 */
        #mindmap-container g.nodes > g {
          text-align: left !important;
        }
        
        /* 确保foreignObject内的内容也垂直居中 */
        #mindmap-container foreignObject {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
        }
        
        #mindmap-container foreignObject > div {
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          width: 100% !important;
          height: 100% !important;
          text-align: center !important;
        }
      `;
      document.head.appendChild(style);
      
      // 强制应用白色文本样式
      setTimeout(() => {
        forceWhiteText();
        forceShowEdges();
      }, 200);
      
      // 再次延迟应用，确保所有元素都被处理
      setTimeout(() => {
        forceWhiteText();
        forceShowEdges();
      }, 500);
    }
    
    // 强制应用白色文本样式
    function forceWhiteText() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      // 查找所有可能的文本元素
      const selectors = [
        'text', 'tspan', '.label', '.nodeLabel', '.edgeLabel',
        'foreignObject', 'foreignObject *', 'div', 'span', 'p',
        '.flowchart-label', '.flowchart-nodeLabel', '.flowchart-edgeLabel'
      ];
      
      selectors.forEach(selector => {
        const elements = container.querySelectorAll(selector);
        elements.forEach(element => {
          // 设置样式属性
          element.style.fill = 'white';
          element.style.color = 'white';
          
          // 设置SVG属性
          element.setAttribute('fill', 'white');
          element.setAttribute('color', 'white');
          
          // 设置文本垂直居中属性
          if (element.tagName === 'text' || element.tagName === 'tspan') {
            element.setAttribute('text-anchor', 'middle');
            element.setAttribute('dominant-baseline', 'middle');
            element.setAttribute('alignment-baseline', 'middle');
            element.style.textAnchor = 'middle';
            element.style.dominantBaseline = 'middle';
            element.style.alignmentBaseline = 'middle';
          }
          
          // 如果是foreignObject内的HTML元素，也设置CSS
          if (element.tagName !== 'text' && element.tagName !== 'tspan') {
            element.style.color = 'white';
            element.style.display = 'flex';
            element.style.alignItems = 'center';
            element.style.justifyContent = 'center';
            element.style.textAlign = 'center';
          }
        });
      });
      
      // 特别处理所有SVG内的文本
      const allSvgElements = container.querySelectorAll('svg *');
      allSvgElements.forEach(element => {
        if (element.tagName === 'text' || element.tagName === 'tspan' || 
            element.classList.contains('label') || element.classList.contains('nodeLabel')) {
          element.style.fill = 'white';
          element.style.color = 'white';
          element.setAttribute('fill', 'white');
          element.setAttribute('color', 'white');
          
          // 设置文本垂直居中
          element.setAttribute('text-anchor', 'middle');
          element.setAttribute('dominant-baseline', 'middle');
          element.setAttribute('alignment-baseline', 'middle');
          element.style.textAnchor = 'middle';
          element.style.dominantBaseline = 'middle';
          element.style.alignmentBaseline = 'middle';
        }
      });
      

      
      console.log('强制应用白色文本样式完成');
    }
    
    // 强制显示所有连线
    function forceShowEdges() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      // 查找所有连线元素 - 更全面的选择器
      const edgeSelectors = [
        '.edgePath', '.edgePath path', 'svg .edgePath', 'svg .edgePath path',
        '.flowchart-link', 'path[class*="edge"]', 'g[class*="edge"]',
        'path[stroke]', 'line[stroke]'
      ];
      
      edgeSelectors.forEach(selector => {
        const elements = container.querySelectorAll(selector);
        elements.forEach(element => {
          element.style.display = 'block';
          element.style.opacity = '1';
          element.style.visibility = 'visible';
          element.style.strokeOpacity = '1';
          
          // 如果是path或line元素，确保stroke属性
          if (element.tagName === 'path' || element.tagName === 'line') {
            element.style.stroke = '#dc2626'; // 直接使用红色值而不是CSS变量
            element.style.strokeWidth = '2px';
            element.style.fill = 'none';
            element.setAttribute('stroke', '#dc2626');
            element.setAttribute('stroke-width', '2');
            element.setAttribute('fill', 'none');
          }
        });
      });
      
      // 特别处理可能的隐藏连线
      const allPaths = container.querySelectorAll('svg path');
      allPaths.forEach(path => {
        // 检查是否是连线（通常有stroke属性但没有fill，或者fill为none）
        const fill = path.getAttribute('fill') || path.style.fill;
        const stroke = path.getAttribute('stroke') || path.style.stroke;
        
        if ((fill === 'none' || !fill) && (stroke || path.style.stroke)) {
          path.style.stroke = '#dc2626';
          path.style.strokeWidth = '2px';
          path.style.opacity = '1';
          path.style.visibility = 'visible';
          path.style.display = 'block';
          path.setAttribute('stroke', '#dc2626');
          path.setAttribute('stroke-width', '2');
          path.setAttribute('opacity', '1');
        }
      });
      
      // 特别检查OCR和General Perception相关的连线
      const problematicNodes = ['C7', 'C1', 'OCR', 'General'];
      problematicNodes.forEach(nodeId => {
        const nodeElements = container.querySelectorAll(`[id*="${nodeId}"]`);
        nodeElements.forEach(element => {
          const parentGroup = element.closest('g');
          if (parentGroup) {
            parentGroup.style.opacity = '1';
            parentGroup.style.visibility = 'visible';
            
            // 查找该组内的所有path元素
            const paths = parentGroup.querySelectorAll('path');
            paths.forEach(path => {
              path.style.stroke = '#dc2626';
              path.style.strokeWidth = '2px';
              path.style.opacity = '1';
              path.style.visibility = 'visible';
              path.setAttribute('stroke', '#dc2626');
              path.setAttribute('stroke-width', '2');
            });
          }
        });
      });
      
      // 确保所有边缘路径组都可见
      const edgeGroups = container.querySelectorAll('g[class*="edge"], .edgePaths, .edgePath');
      edgeGroups.forEach(group => {
        group.style.opacity = '1';
        group.style.visibility = 'visible';
        group.style.display = 'block';
      });
      
      console.log('强制显示所有连线完成');
    }
    
    // 调整节点层级对齐
    function adjustNodeAlignment() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      // 获取所有节点
      const nodes = container.querySelectorAll('.node');
      const nodePositions = [];
      
      // 收集所有节点的位置信息
      nodes.forEach(node => {
        const transform = node.getAttribute('transform') || '';
        const translateMatch = transform.match(/translate\(([^,]+),([^)]+)\)/);
        
        if (translateMatch) {
          const x = parseFloat(translateMatch[1]);
          const y = parseFloat(translateMatch[2]);
          nodePositions.push({ node, x, y });
        }
      });
      
      // 按x坐标排序，然后按层级分组
      nodePositions.sort((a, b) => a.x - b.x);
      
      // 使用更智能的层级检测
      const nodesByLevel = new Map();
      const tolerance = 50; // 50px容差范围内认为是同一层级
      
      nodePositions.forEach(({ node, x, y }) => {
        let assignedLevel = null;
        
        // 查找是否有相近的层级
        for (let [level, levelNodes] of nodesByLevel) {
          if (Math.abs(x - level) <= tolerance) {
            assignedLevel = level;
            break;
          }
        }
        
        // 如果没有找到相近的层级，创建新层级
        if (assignedLevel === null) {
          assignedLevel = x;
          nodesByLevel.set(assignedLevel, []);
        }
        
        nodesByLevel.get(assignedLevel).push({ node, x, y });
      });
      
      // 对每个层级的节点进行左对齐调整
      nodesByLevel.forEach((levelNodes, level) => {
        if (levelNodes.length > 1) {
          // 找到该层级最左边的x坐标
          const minX = Math.min(...levelNodes.map(item => item.x));
          
          // 将所有节点的x坐标调整为最左边的位置
          levelNodes.forEach(({ node, x, y }) => {
            if (Math.abs(x - minX) > 5) { // 只调整差异超过5px的节点
              const currentTransform = node.getAttribute('transform') || '';
              const newTransform = currentTransform.replace(
                /translate\([^)]+\)/, 
                `translate(${minX},${y})`
              );
              node.setAttribute('transform', newTransform);
            }
          });
        }
      });
      
      console.log('节点层级对齐调整完成，处理了', nodesByLevel.size, '个层级');
    }
    

    
    // 全部展开函数 - 显示完整思维导图
    function expandAll() {
      const container = document.getElementById('mindmap-container');
      if (container) {
        try {
          console.log('Expanding all nodes...');
          // 清空折叠状态
          collapsedNodes = [];
          // 渲染完整的思维导图
          const mindMapData = createMermaidMindMap();
          mermaid.render('mindmap-svg-expand', mindMapData).then(({ svg }) => {
            container.innerHTML = svg;
            applyCustomStyles();
            addNodeClickEvents();
            addWheelZoom();
            setTimeout(() => {
              forceShowEdges();
            }, 100);
            
            setTimeout(() => {
              forceShowEdges();
            }, 300);
            
            setTimeout(() => {
              forceShowEdges();
            }, 500);
            console.log('Mind map expanded successfully');
          }).catch(error => {
            console.error('Failed to expand mind map:', error);
          });
        } catch (error) {
          console.warn('Mermaid expandAll failed:', error);
        }
      }
    }
    
    // 全部折叠函数 - 只显示主要分支
    function collapseAll() {
      const container = document.getElementById('mindmap-container');
      if (container) {
        try {
          console.log('Collapsing all nodes...');
          // 渲染折叠版本的思维导图
          const mindMapData = createCollapsedMindMap();
          mermaid.render('mindmap-svg-collapse', mindMapData).then(({ svg }) => {
            container.innerHTML = svg;
            applyCustomStyles();
            addNodeClickEvents();
            addWheelZoom();
            setTimeout(() => {
              forceShowEdges();
            }, 100);
            
            setTimeout(() => {
              forceShowEdges();
            }, 300);
            
            setTimeout(() => {
              forceShowEdges();
            }, 500);
            console.log('Mind map collapsed successfully');
          }).catch(error => {
            console.error('Failed to collapse mind map:', error);
          });
        } catch (error) {
          console.warn('Mermaid collapseAll failed:', error);
        }
      }
    }
    
    // 添加节点点击事件
    function addNodeClickEvents() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      // 为每个节点添加点击事件
      const nodes = container.querySelectorAll('.node');
      nodes.forEach(node => {
        node.addEventListener('click', function() {
          const nodeId = this.id;
          console.log('Node clicked:', nodeId);
          
          // 根据节点类型决定展开或折叠
          if (nodeId.includes('A') || nodeId.includes('B') || nodeId.includes('C') || nodeId.includes('D')) {
            // 主要分支节点被点击，展开到完整视图
            expandAll();
          } else if (nodeId.includes('B1') || nodeId.includes('B2') || nodeId.includes('D1') || nodeId.includes('D2')) {
            // 二级分支节点被点击，切换折叠/展开状态
            toggleNodeCollapse(nodeId);
          }
        });
      });
    }
    
    // 节点折叠状态管理
    var collapsedNodes = [];
    
    // 切换节点折叠状态
    function toggleNodeCollapse(nodeId) {
      const index = collapsedNodes.indexOf(nodeId);
      if (index > -1) {
        // 展开节点
        collapsedNodes.splice(index, 1);
        console.log('展开节点:', nodeId);
      } else {
        // 折叠节点
        collapsedNodes.push(nodeId);
        console.log('折叠节点:', nodeId);
      }
      
      // 重新渲染思维导图
      renderMindMapWithCollapse();
    }
    
    // 渲染带折叠状态的思维导图
    function renderMindMapWithCollapse() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      try {
        // 创建部分折叠的思维导图数据
        const mindMapData = createPartiallyCollapsedMindMap(collapsedNodes);
        console.log('渲染部分折叠思维导图，折叠节点:', collapsedNodes);
        
        // 渲染思维导图
        mermaid.render('mindmap-svg-collapse-toggle', mindMapData).then(({ svg }) => {
          container.innerHTML = svg;
          applyCustomStyles();
          addNodeClickEvents();
          addWheelZoom();
          setTimeout(() => {
            forceShowEdges();
            adjustExplanationNodeWidths();
            adjustExplanationNodeSpacing();
          }, 100);
          console.log('部分折叠思维导图渲染成功');
        }).catch(error => {
          console.error('Failed to render partially collapsed mind map:', error);
        });
      } catch (error) {
        console.error('Failed to render mind map with collapse:', error);
      }
    }
    
    // 缩放功能
    var currentZoom = 1;
    var zoomStep = 0.2;
    var minZoom = 0.3;
    var maxZoom = 3.0;
    
    // 放大函数
    function zoomIn() {
      if (currentZoom < maxZoom) {
        currentZoom += zoomStep;
        applyZoom();
        console.log('Zoomed in to:', currentZoom);
      }
    }
    
    // 缩小函数
    function zoomOut() {
      if (currentZoom > minZoom) {
        currentZoom -= zoomStep;
        applyZoom();
        console.log('Zoomed out to:', currentZoom);
      }
    }
    
    // 重置缩放函数
    function resetZoom() {
      currentZoom = 1;
      resetDrag(); // 同时重置拖拽位置
      applyZoom();
      console.log('Zoom reset to:', currentZoom);
    }
    
    // 应用缩放
    function applyZoom() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      const svg = container.querySelector('svg');
      if (svg) {
        // 结合缩放和拖拽变换
        svg.style.transform = `scale(${currentZoom}) translate(${currentTranslateX}px, ${currentTranslateY}px)`;
        svg.style.transformOrigin = 'center center';
        svg.style.transition = 'transform 0.3s ease';
        
        // 调整容器高度以适应缩放
        const scaledHeight = 900 * currentZoom;
        container.style.height = `${scaledHeight}px`;
        container.style.overflow = 'auto';
      }
      
      // 更新缩放指示器
      const zoomIndicator = document.getElementById('zoom-indicator');
      if (zoomIndicator) {
        zoomIndicator.textContent = `缩放: ${Math.round(currentZoom * 100)}%`;
      }
    }
    
    // 添加鼠标滚轮缩放
    function addWheelZoom() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      container.addEventListener('wheel', function(e) {
        // 阻止默认滚动行为
        e.preventDefault();
        
        // 根据滚轮方向决定缩放方向
        if (e.deltaY < 0) {
          // 向上滚动，放大
          zoomIn();
        } else {
          // 向下滚动，缩小
          zoomOut();
        }
      }, { passive: false });
    }
    
    // 拖拽功能
    var isDragging = false;
    var dragStartX = 0;
    var dragStartY = 0;
    var currentTranslateX = 0;
    var currentTranslateY = 0;
    var dragEnabled = false;
    
    // 切换拖拽模式
    function toggleDrag() {
      dragEnabled = !dragEnabled;
      const dragButton = document.getElementById('drag-toggle');
      if (dragButton) {
        dragButton.textContent = dragEnabled ? '禁用拖拽' : '启用拖拽';
        dragButton.style.backgroundColor = dragEnabled ? '#059669' : 'var(--primary-red)';
      }
      
      if (dragEnabled) {
        addDragEvents();
        console.log('拖拽模式已启用');
      } else {
        removeDragEvents();
        console.log('拖拽模式已禁用');
      }
    }
    
    // 添加拖拽事件
    function addDragEvents() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      container.addEventListener('mousedown', startDrag);
      container.addEventListener('mousemove', drag);
      container.addEventListener('mouseup', endDrag);
      container.addEventListener('mouseleave', endDrag);
      
      // 改变鼠标样式
      container.style.cursor = 'grab';
    }
    
    // 移除拖拽事件
    function removeDragEvents() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      container.removeEventListener('mousedown', startDrag);
      container.removeEventListener('mousemove', drag);
      container.removeEventListener('mouseup', endDrag);
      container.removeEventListener('mouseleave', endDrag);
      
      // 恢复鼠标样式
      container.style.cursor = 'default';
    }
    
    // 开始拖拽
    function startDrag(e) {
      if (!dragEnabled) return;
      
      isDragging = true;
      dragStartX = e.clientX - currentTranslateX;
      dragStartY = e.clientY - currentTranslateY;
      
      const container = document.getElementById('mindmap-container');
      if (container) {
        container.style.cursor = 'grabbing';
      }
      
      e.preventDefault();
    }
    
    // 拖拽中
    function drag(e) {
      if (!isDragging || !dragEnabled) return;
      
      currentTranslateX = e.clientX - dragStartX;
      currentTranslateY = e.clientY - dragStartY;
      
      applyDragTransform();
      e.preventDefault();
    }
    
    // 结束拖拽
    function endDrag() {
      if (!dragEnabled) return;
      
      isDragging = false;
      const container = document.getElementById('mindmap-container');
      if (container) {
        container.style.cursor = 'grab';
      }
    }
    
    // 应用拖拽变换
    function applyDragTransform() {
      const container = document.getElementById('mindmap-container');
      if (!container) return;
      
      const svg = container.querySelector('svg');
      if (svg) {
        svg.style.transform = `scale(${currentZoom}) translate(${currentTranslateX}px, ${currentTranslateY}px)`;
        svg.style.transformOrigin = 'center center';
      }
    }
    
    // 重置拖拽位置
    function resetDrag() {
      currentTranslateX = 0;
      currentTranslateY = 0;
      applyDragTransform();
    }
    



  </script>
</body>
</html>

